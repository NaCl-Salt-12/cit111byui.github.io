<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>W12 Teaching Notes</title>
    <link rel="stylesheet" type="text/css" href="notes.css">
  </head>
  <body>
<p><strong style="font-family: sans-serif; font-size: 1rem;">Note:</strong><span style="font-family: sans-serif; font-size: 1rem;"> The weekly Teaching Notes only identify week-specific considerations. Please refer to the </span><a style="font-family: sans-serif; font-size: 1rem;" title="General Teaching Notes" href="https://byui.instructure.com/courses/1521/pages/general-teaching-notes" target="_blank" rel="noopener" data-api-endpoint="https://byui.instructure.com/api/v1/courses/1521/pages/general-teaching-notes" data-api-returntype="Page">General Teaching Notes</a><span style="font-family: sans-serif; font-size: 1rem;"> for repeating course facilitation expectations.</span></p>
<div class="objectives">
<h2>Week 12 Outcomes</h2>
<ul>
<li>Review of concepts: functions, summary queries, and joins</li>
</ul>
</div>
<div class="beforeTheWeekBegins">
<h2>Before the Week Begins</h2>
<ul>
<li>Students will go over any feedback they received about the first part of the project and make any corrections needed.</li>
<li>Consider reviewing the teaching tips and suggestions in the CIT111 - W012 Course Group discussion <a href="https://byui.instructure.com/courses/70298/discussion_topics/1457734" data-api-endpoint="https://byui.instructure.com/api/v1/courses/70298/discussion_topics/1457734" data-api-returntype="Discussion">https://byui.instructure.com/courses/70298/discussion_topics/1457734</a>.</li>
</ul>
</div>
<div class="duringTheWeek">
<h2>During the Week</h2>
<ul>
<li>First of the week:
<ul>
<li>The students should have completed the preparation before the beginning of the week and be ready for part 2 of the project.</li>
</ul>
</li>
</ul>
<ul>
<li style="list-style-type: none;">
<ul>
<li>Students will take this week to work on their project part 2 in class.</li>
</ul>
</li><br>
<li>Mid-week
<ul>
<li>There is no quiz this week</li>
</ul>
</li>
</ul>
<ul>
<li style="list-style-type: none;">
<ul>
</ul>
</li>
</ul>
<ul>
<li style="list-style-type: none;"></li>
<li>End of the Week<br />
<ul>
<li style="list-style-type: none;"></li>
<li>The homework due Saturday will be
<ul>
<li>Creating 10 different queries using the database they designed and populated last week. Query #9 uses the function MOD. You can introduce that new function or have them look it up to learn about themselves. This is a good opportunity to talk about researching things they might not have learned on their own.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="gradingFeedback">
<h2>Grading/Feedback</h2>
<ul>
  <li><strong>Instructor:</strong>The homework will be checking their queries and making sure they got the correct result sets for each. </li>
  <li>Here is the key:</li>
<pre>
-- 1) Students, and their birthdays, of students born in September.
-- Format the date to look like it is shown in the result set
-- Sorted by student last name

SELECT fname, lname, DATE_FORMAT(dob, '%M %d, %Y') AS 'Sept Birthdays'
FROM student
WHERE MONTH(DOB) = 9
ORDER BY lname;

-- 2) All students' ages in years and days as of Jan. 5, 2017
-- Sorted from oldest to youngest. 
-- Hint use modulus for days left over after after years.

SELECT lname, fname
, FLOOR(datediff('2017-01-05', dob)/365) AS Years
, MOD(datediff('2017-01-05', dob), 365) AS Days
, CONCAT(FLOOR(datediff('2017-01-05', dob)/365), ' - Yrs,  ', MOD(datediff('2017-01-05', DOB), 365), ' - Days') AS 'Years and Days'
FROM student
Order By datediff('2017-01-05', dob) DESC;

-- 3) Students taught by John Jensen
-- Sorted by students last name

SELECT s.fname, s.lname
FROM student s
 JOIN enrollment e
 ON s.student_id = e.student_id
 JOIN section se
 ON e.section_id = se.section_id
 JOIN faculty f
 ON se.faculty_id = f.faculty_id
WHERE f.lname = 'Jensen' and f.fname = 'John'
ORDER BY s.lname;

-- 4) Instructors Bryce will have in Winter 2018.
-- Sort by faculty's last name

SELECT f.fname, f.lname
FROM faculty f
   JOIN section s
      ON f.faculty_id = s.faculty_id
   JOIN term t
      ON s.term_id = t.term_id
   JOIN enrollment e
      ON e.section_id = s.section_id
   JOIN student st
      ON e.student_id = st.student_id
WHERE st.fname = 'Bryce'
   AND t.year = 2018
   AND t.term = 'Winter'
ORDER BY f.lname;


-- 5) Students that take Econometrics in Fall 2019.
-- Order by student last name

SELECT st.fname, st.lname
FROM section s
   JOIN term t
      ON s.term_id = t.term_id
   JOIN enrollment e
      ON e.section_id = s.section_id
   JOIN student st
      ON e.student_id = st.student_id
   JOIN course c
      ON s.course_id = c.course_id
WHERE c.name = 'Econometrics'
   AND t.year = 2019
   AND t.term = 'Fall'
ORDER BY st.lname;

-- 6) Bryce Carlson's courses for Winter 2018.
-- Sort by the name of the course

SELECT c.department_code, c.course_num, c.name
FROM term t
	JOIN section s
	  ON t.term_id = s.term_id
	JOIN course c
	  ON s.course_id = c.course_id
	JOIN enrollment e
	  ON s.section_id = e.section_id
	JOIN student st
	  ON e.student_id = st.student_id
WHERE st.lname = 'Carlson' AND term = 'Winter' AND year = 2018
ORDER BY c.name;

-- 7) The number of students enrolled for Fall 2019

SELECT term, year, COUNT(s.section_id) AS "Enrollment"
FROM term t
	JOIN section s
    ON t.term_id = s.term_id
    JOIN enrollment e
    ON s.section_id = e.section_id
WHERE term = 'Fall' AND year = 2019;


-- 8) The number of courses in each college. 
-- Order by college alphabetically

SELECT c.name as Colleges, COUNT(course_num) As 'Number of Courses'
FROM college c
  JOIN department d
  ON c.college_id = d.college_id
  JOIN course co
  ON d.department_code = co.department_code
GROUP BY c.name
ORDER BY Colleges;

-- 9) The total number of students each professor can teach in Winter 2018. 
-- Order by that total number of students (teaching capacity)

SELECT f.fname, f.lname, SUM(capacity) AS TeachingCapacity
FROM faculty f
   JOIN section s
      ON f.faculty_id = s.faculty_id
   JOIN term t
      ON s.term_id = t.term_id
WHERE term = 'Winter' AND year = 2018
GROUP BY f.lname, f.fname
ORDER BY TeachingCapacity;


-- 10) Each student's total credit load for Fall 2019 but only students with
-- a credit load greater than three.  Sort by credit load in descending order.

SELECT st.lname, st.fname, SUM(c.credit) AS Credits
FROM Section s
   JOIN term t
      ON s.term_id = t.term_id
   JOIN enrollment e
      ON e.section_id = s.section_id
   JOIN student st
      ON e.student_id = st.student_id
   JOIN course c
      ON s.course_id = c.course_id
WHERE term = 'Fall' AND year = 2019
GROUP BY st.lname, st.fname
HAVING Credits > 3
ORDER BY credits DESC;
</pre>
</ul>
</div>
<div class="lookingAhead">
<h2>Looking Ahead</h2>
<ul>
<li>Remind students that next week they will be reviewing for and taking two different final exams, a coding exam and a multiple choice exam. Both are comprehensive.</li>
</ul>
</div>
</body>
</html>
